(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-book"],{"0351":function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("bd86"));n("96cf");var a=i(n("3b8d"));n("9ec8");var s=i(n("b5fc")),r=i(n("e143")),u=(0,o.default)({name:"book",data:function(){return{backgroundcolor:this.backgroundcolor,fontsize:this.fontsize,textcolor:this.textcolor,reach_bottom_autoload:this.reach_bottom_autoload,url:"",drive:"",chapters:[],nextcontents:[],next:[],logs:[],state:0,load_url:"",theme:"",title:"",adshow:!0,interstitialAd:null,videoAd:null,rewardAdIsLoad:!1,loadcount:13,isIpx:this.isIpx}},methods:{adClose:function(){this.adshow=!1},showReward:function(){var t=this;t.reach_bottom_autoload=!0,t.rewardAdIsLoad=!1,r.default.prototype.reach_bottom_autoload=!0,t.loadnext()},initReward:function(){},loadscreen:function(){this.loadcount++,20==this.loadcount&&(this.loadcount=0)},loadmore:function(){if(this.state=1,this.next){var t=this;this.fetch(this.next.url,this.drive),t.next=[]}},loadnext:function(){this.state=1;var t=this;t.next&&""!=t.next.url?(t.fetch(t.next.url,t.drive),t.next=[]):uni.showToast({title:"没有更多了",icon:"none"})},loadprevious:function(){this.state=1;var t=this;t.previous&&""!=t.previous.url?(t.fetch(t.previous.url,t.drive),t.previous=[]):uni.showToast({title:"没有更前了",icon:"none"})},reloaddata:function(){this.load_url?(this.state=1,this.fetch(this.load_url,this.drive)):this.state=2},setcp:function(t){var e=t.currentTarget.dataset.val;uni.showModal({title:"转码声明",content:"本内容通过实时转码技术为您呈现，版权及相关连带归源站所有！来源网站地址:"+e,showCancel:!1})},fetch:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(e,n){var i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadscreen(),i=this,i.load_url=e,t.prev=3,t.next=6,s.default.GetInfo(e,n);case 6:if(o=t.sent,!o.contents.length){t.next=17;break}return i.chapters.push(o),i.next=o.next,i.title=o.title,uni.setNavigationBarTitle({title:o.title}),this.state=0,t.next=15,s.default.NewLog(o.title,"/pages/book?drive="+i.drive+"&url="+e);case 15:t.next=18;break;case 17:this.state=3;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](3),i.state=3;case 23:case"end":return t.stop()}},t,this,[[3,20]])}));function e(e,n){return t.apply(this,arguments)}return e}()},computed:{banner_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_banner:null},video_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_video:null},screen_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_screen:null},reward_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_reward:null},viewAdBgColor:function(){return"bg-black"==this.backgroundcolor||"bg-grey"==this.backgroundcolor||"bg-brown"==this.backgroundcolor?"black":"white"},bgColor:function(){return this.backgroundcolor+" "+this.textcolor+" "+this.fontsize}},onLoad:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.url,i=e.drive,t.next=3,s.default.ConnectApi();case 3:this.url=n,this.drive=i,this.state=1,this.fetch(n,this.drive);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onShareAppMessage:function(t){return{title:this.title,path:"/pages/book?drive="+this.drive+"&url="+this.url}},onReachBottom:function(){if(this.reach_bottom_autoload){if(this.state=1,this.next){var t=this;this.fetch(this.next.url,this.drive),t.next=[]}else this.state=2;console.log("到底了")}},onPullDownRefresh:function(){this.chapters=[],this.fetch(this.url,this.drive),uni.stopPullDownRefresh()}},"onShareAppMessage",function(t){return{title:this.title,path:"/pages/book?drive="+this.drive+"&url="+this.url,success:function(t){console.log(t)},fail:function(t){console.log(t)}}});e.default=u},"2adc":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".page[data-v-4d515860]{min-height:100vh}",""])},"398a":function(t,e,n){"use strict";n.r(e);var i=n("0351"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"433f":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:[t.backgroundcolor,t.textcolor,t.fontsize]},[n("cu-custom",{attrs:{bgColor:t.bgColor,isBack:!0}},[n("template",{attrs:{slot:"content"},slot:"content"},[n("v-uni-text",{class:[t.fontsize]},[t._v("正文")])],1)],2),n("v-uni-view",{staticClass:"page"},[n("v-uni-view",[t._l(t.chapters,function(e,i){return n("v-uni-view",{key:i},[n("v-uni-view",{staticClass:"padding-lr padding-top padding-bottom-xs text-bold"},[t._v(t._s(e.title))]),t._l(e.contents,function(e,i){return n("v-uni-view",{key:i,staticClass:"padding-lr padding-top-xs padding-bottom-xs",staticStyle:{"text-indent":"2em"}},[t._v(t._s(e))])}),e.source_url?n("v-uni-view",{staticClass:"text-right padding-lr solid-bottom"},[n("v-uni-text",{attrs:{"data-val":e.source_url},on:{click:function(e){e=t.$handleEvent(e),t.setcp(e)}}},[t._v("原网页")])],1):t._e()],2)}),t.reach_bottom_autoload?t._e():n("v-uni-view",[t.next&&""!=t.next.url?n("v-uni-view",{staticClass:"flex text-center margin-top",class:[t.backgroundcolor,t.textcolor,t.fontsize]},[""!=t.next.url?n("v-uni-view",{staticClass:"flex-sub padding",on:{click:function(e){e=t.$handleEvent(e),t.showReward(e)}}},[t._v("自动加载更多")]):t._e(),n("v-uni-view",{staticClass:"flex-sub padding"},[0==t.state?n("v-uni-view",{staticClass:"cuIcon-unfold",on:{click:function(e){e=t.$handleEvent(e),t.loadnext(e)}}}):t._e(),3==t.state?n("v-uni-view",{staticClass:"cuIcon-refresh",on:{click:function(e){e=t.$handleEvent(e),t.reloaddata()}}}):t._e(),2==t.state?n("v-uni-view",[t._v("没有更多了")]):t._e(),1==t.state?n("v-uni-view",{staticClass:"cuIcon-loading2"}):t._e()],1)],1):t._e()],1)],2),t.reach_bottom_autoload?n("v-uni-view",[1==t.state?n("v-uni-view",{staticClass:"cu-load loading"}):t._e(),2==t.state?n("v-uni-view",{staticClass:"text-center"},[t._v("到底了")]):t._e(),3==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.reloaddata()}}},[t._v("重新加载")]):t._e(),0==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.loadmore()}}},[t._v("加载更多")]):t._e()],1):t._e()],1),t.isIpx?n("v-uni-view",{staticClass:"cu-tabbar-height"}):t._e()],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"445d":function(t,e,n){var i=n("2adc");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("74e03e2e",i,!0,{sourceMap:!1,shadowMode:!1})},5150:function(t,e,n){"use strict";n.r(e);var i=n("433f"),o=n("398a");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("f26e");var s=n("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"4d515860",null);e["default"]=r.exports},f26e:function(t,e,n){"use strict";var i=n("445d"),o=n.n(i);o.a}}]);