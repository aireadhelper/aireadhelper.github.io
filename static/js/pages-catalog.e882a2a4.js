(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-catalog"],{"0fba":function(t,e,n){"use strict";n.r(e);var o=n("dbd8"),i=n("5c3e");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("fb0c");var a=n("2877"),l=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"1c46453c",null);e["default"]=l.exports},"260a":function(t,e,n){var o=n("c6f7");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("ff4b742a",o,!0,{sourceMap:!1,shadowMode:!1})},4928:function(t,e,n){"use strict";var o=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("75fc"));n("96cf");var r=o(n("3b8d"));n("28a5"),n("9ec8");var a=o(n("b5fc")),l=o(n("e143")),s={name:"catelog",data:function(){return{backgroundcolor:this.backgroundcolor,fontsize:this.fontsize,textcolor:this.textcolor,url:"",source_url:"",drive:"",title:"目录加载中",save_title:"",links:[],logs:[],follow_list:[],next:[],hash:"",load_url:"",follow_status:!1,state:0,adshow:!0,loadcount:13,interstitialAd:null}},computed:{banner_adid:function(){return l.default.prototype.appconfig?l.default.prototype.appconfig.list_banner:null},video_adid:function(){return l.default.prototype.appconfig?l.default.prototype.appconfig.list_video:null},screen_adid:function(){return l.default.prototype.appconfig?l.default.prototype.appconfig.list_screen:null},viewAdBgColor:function(){return"bg-black"==this.backgroundcolor||"bg-grey"==this.backgroundcolor||"bg-brown"==this.backgroundcolor?"black":"white"},bgColor:function(){return this.backgroundcolor+" "+this.textcolor+" "+this.fontsize},sourceURL:function(){if(this.source_url){var t=this.source_url.split("/");if(t[2])return t[2]}return""}},methods:{adClose:function(){this.adshow=!1},loadscreen:function(){this.loadcount++,20==this.loadcount&&(this.loadcount=0)},follow:function(){var t=this;if(t.follow_list.length>0)for(var e=0;e<t.follow_list.length;e++)if(t.follow_list[e].url==t.url)return;var n={title:t.title,type:"link",wxto:"/pages/catalog?drive="+t.drive+"&url="+t.url,hash:t.hash,url:t.url};t.follow_list.push(n),uni.setStorage({key:"___follow_list",data:t.follow_list}),t.follow_status=!0,uni.showToast({title:"已加入看单",icon:"none"})},unfollow:function(){var t=this,e=[];if(t.follow_list.length>0){for(var n=0;n<t.follow_list.length;n++)t.follow_list[n].url!=t.url&&e.push(t.follow_list[n]);t.follow_list=e,uni.setStorage({key:"___follow_list",data:e}),t.follow_status=!1,uni.showToast({title:"已移出看单",icon:"none"})}},setcp:function(t){var e=t.currentTarget.dataset.val;uni.showModal({title:"转码声明",content:"本内容通过实时转码技术为您呈现，版权及相关连带归源站所有！来源网站地址:"+e,showCancel:!1})},loadmore:function(){this.state=1;var t=this;t.next&&""!=t.next.url&&(t.fetch(t.next.url,t.drive),t.next=[])},reloaddata:function(){this.load_url?(this.state=1,this.fetch(this.load_url,this.drive)):this.state=2},goto:function(t){var e=t.currentTarget.dataset.url;e&&uni.navigateTo({url:e})},initload:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(){var e,n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,e.follow_list=uni.getStorageSync("___follow_list"),e.follow_list||(n=uni.getStorageSync("__follow_list"),e.follow_list=n&&JSON.parse(n)||[]),!(e.follow_list.length>0)){t.next=12;break}o=0;case 5:if(!(o<e.follow_list.length)){t.next=12;break}if(e.follow_list[o].url!=e.url){t.next=9;break}return e.follow_status=!0,t.abrupt("break",12);case 9:o++,t.next=5;break;case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetch:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(e,n){var o,r,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadscreen(),o=this,o.load_url=e,t.prev=3,t.next=6,a.default.GetCatalog(e,n);case 6:r=t.sent,r.Cards.length>0?(uni.setNavigationBarTitle({title:r.title}),o.title=r.title,(l=o.links).push.apply(l,(0,i.default)(r.Cards)),o.source_url=r.source_url,o.hash=r.hash,o.next=r.next,this.state=0):this.state=3,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),o.state=3;case 13:case"end":return t.stop()}},t,this,[[3,10]])}));function e(e,n){return t.apply(this,arguments)}return e}(),gototop:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.pageScrollTo({scrollTop:0,duration:300});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),gotobottom:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:uni.pageScrollTo({scrollTop:50*this.links.length,duration:300});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showQrcode:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=a.default.GetQrcodr(encodeURIComponent("/pages/catalog?drive="+this.drive+"&url="+encodeURIComponent(this.url))),uni.previewImage({current:e,urls:[e]});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},onLoad:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(e){var n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.url,o=e.drive,t.next=3,a.default.ConnectApi();case 3:return this.url=n,this.drive=o,void 0!=this.url&&void 0!=this.drive||uni.showModal({title:"出错了",content:"缺少必要的参数：url:"+this.url+";drive:"+this.drive,showCancel:!1}),this.state=1,t.next=9,this.initload();case 9:this.fetch(n,this.drive);case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onReachBottom:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.next&&e.next.url?(e.state=1,e.fetch(e.next.url,e.drive),e.next=[]):e.state=2;case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onShareAppMessage:function(t){return{title:this.title,path:"/pages/catalog?drive="+this.drive+"&url="+this.url}},onPullDownRefresh:function(){this.links=[],this.state=1,this.fetch(this.url,this.drive),uni.stopPullDownRefresh()}};e.default=s},"5c3e":function(t,e,n){"use strict";n.r(e);var o=n("4928"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=i.a},"75fc":function(t,e,n){"use strict";n.r(e);var o=n("a745"),i=n.n(o);function r(t){if(i()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var a=n("774e"),l=n.n(a),s=n("c8bb"),c=n.n(s);function u(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return l()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return r(t)||u(t)||f()}n.d(e,"default",function(){return d})},c6f7:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".page[data-v-1c46453c]{min-height:100vh}.cu-card>.cu-item[data-v-1c46453c]{background-color:rgba(0,0,0,0)}.cu-card.article>.cu-item .title[data-v-1c46453c]{color:inherit;font-size:inherit}.cu-card.article>.cu-item .content .text-content[data-v-1c46453c]{color:inherit;font-size:inherit}.showtop[data-v-1c46453c]{position:fixed;bottom:%?148?%;right:%?32?%;width:%?72?%;height:%?72?%;line-height:%?72?%;opacity:.4}.showbottom[data-v-1c46453c]{position:fixed;bottom:%?76?%;right:%?32?%;width:%?72?%;height:%?72?%;line-height:%?72?%;opacity:.4}",""])},dbd8:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:[t.backgroundcolor,t.textcolor,t.fontsize]},[n("cu-custom",{attrs:{bgColor:t.bgColor,isBack:!0}},[n("template",{attrs:{slot:"content"},slot:"content"},[n("v-uni-text",{class:[t.fontsize]},[t._v("目录")])],1)],2),n("v-uni-view",{staticClass:"page",class:[t.backgroundcolor,t.textcolor,t.fontsize]},[n("v-uni-view",{staticClass:" shadow margin-bottom-xs padding"},[t.follow_status?n("v-uni-view",{staticClass:"text-bold"},[n("v-uni-text",{on:{click:function(e){e=t.$handleEvent(e),t.unfollow(e)}}},[t._v(t._s(t.title)),n("v-uni-text",{staticClass:"cuIcon-favorfill"})],1)],1):t._e(),!t.follow_status&&t.links.length?n("v-uni-view",{staticClass:"text-bold"},[n("v-uni-text",{on:{click:function(e){e=t.$handleEvent(e),t.follow(e)}}},[t._v(t._s(t.title)),n("v-uni-text",{staticClass:"cuIcon-favor"})],1)],1):t._e(),t.source_url?n("v-uni-view",{staticClass:"flex  justify-between"},[n("v-uni-view",{attrs:{"data-val":t.source_url},on:{click:function(e){e=t.$handleEvent(e),t.setcp(e)}}},[t._v(t._s(t.sourceURL))]),n("v-uni-view",{staticClass:"cuIcon-qrcode",on:{click:function(e){e=t.$handleEvent(e),t.showQrcode(e)}}})],1):t._e()],1),t._l(t.links,function(e,o){return n("v-uni-view",{attrs:{index:o}},[n("v-uni-view",{staticClass:"padding-xs padding-lr solid-top",attrs:{"data-url":e.wxto},on:{click:function(e){e=t.$handleEvent(e),t.goto(e)}}},[t._v(t._s(e.title))])],1)}),1==t.state?n("v-uni-view",{staticClass:"cu-load loading"}):t._e(),2==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.reloaddata()}}},[t._v("到底了")]):t._e(),3==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.reloaddata()}}},[t._v("重新加载")]):t._e(),0==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.loadmore()}}},[t._v("加载更多")]):t._e()],2),t.links.length?[n("v-uni-view",{staticClass:"showtop bg-black text-center",on:{click:function(e){e=t.$handleEvent(e),t.gototop(e)}}},[n("v-uni-text",{staticClass:"cuIcon-triangleupfill",staticStyle:{"font-size":"56rpx"}})],1),n("v-uni-view",{staticClass:"showbottom bg-black text-center",on:{click:function(e){e=t.$handleEvent(e),t.gotobottom(e)}}},[n("v-uni-text",{staticClass:"cuIcon-triangledownfill",staticStyle:{"font-size":"56rpx"}})],1)]:t._e()],2)},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},fb0c:function(t,e,n){"use strict";var o=n("260a"),i=n.n(o);i.a}}]);