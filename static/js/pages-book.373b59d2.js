(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-book"],{"0351":function(t,e,n){"use strict";var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=a(n("3b8d"));n("9ec8");var o=a(n("b5fc")),s=a(n("e143")),r={name:"explore",data:function(){return{backgroundcolor:this.backgroundcolor,fontsize:this.fontsize,textcolor:this.textcolor,setting:!1,url:"",drive:"",chapters:[],nextcontents:[],next:[],logs:[],state:0,load_url:"",theme:"",title:"",adshow:!0}},methods:{settingTextColor:function(t){this.textcolor=t.currentTarget.dataset.val,s.default.prototype.textcolor=this.textcolor,uni.setStorageSync("textcolor",this.textcolor)},settingFontSize:function(t){this.fontsize=t.currentTarget.dataset.val,s.default.prototype.fontsize=this.fontsize,uni.setStorageSync("fontsize",this.fontsize)},settingBackgroundColor:function(t){this.backgroundcolor=t.currentTarget.dataset.val,s.default.prototype.backgroundcolor=this.backgroundcolor,uni.setStorageSync("backgroundcolor",this.backgroundcolor)},showSetting:function(){this.setting=!0},hideSetting:function(){this.setting=!1},loadmore:function(){if(this.state=1,this.next){var t=this;this.fetch(this.next.url,this.drive),t.next=[]}},reloaddata:function(){this.load_url?(this.state=1,this.fetch(this.load_url,this.drive)):this.state=2},setcp:function(t){var e=t.currentTarget.dataset.val;uni.showModal({title:"转码声明",content:"本内容通过实时转码技术为您呈现，版权及相关连带归源站所有！来源网站地址:"+e,showCancel:!1})},fetch:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(e,n){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this,a.load_url=e,t.prev=2,t.next=5,o.default.GetInfo(e,n);case 5:if(i=t.sent,!i.contents.length){t.next=16;break}return a.chapters.push(i),a.next=i.next,a.title=i.title,uni.setNavigationBarTitle({title:i.title}),this.state=0,t.next=14,o.default.NewLog(i.title,"/pages/book?drive="+a.drive+"&url="+e);case 14:t.next=17;break;case 16:this.state=3;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](2),a.state=3;case 22:case"end":return t.stop()}},t,this,[[2,19]])}));function e(e,n){return t.apply(this,arguments)}return e}()},computed:{bgColor:function(){return this.backgroundcolor+" "+this.textcolor+" "+this.fontsize}},onLoad:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.url,a=e.drive,t.next=3,o.default.ConnectApi();case 3:this.url=n,this.drive=a,this.state=1,this.fetch(n,this.drive);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onShareAppMessage:function(t){return{title:this.title,path:"/pages/book?drive="+this.drive+"&url="+this.url,success:function(t){console.log(t)},fail:function(t){console.log(t)}}},onPullDownRefresh:function(){this.chapters=[],this.fetch(this.url,this.drive),uni.stopPullDownRefresh()}};e.default=r},"398a":function(t,e,n){"use strict";n.r(e);var a=n("0351"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},5150:function(t,e,n){"use strict";n.r(e);var a=n("e5de"),i=n("398a");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("9af2");var s=n("2877"),r=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"4e7e49e4",null);e["default"]=r.exports},"5d99":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".page[data-v-4e7e49e4]{height:100vh}",""])},"6eca":function(t,e,n){var a=n("5d99");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("2eda3a33",a,!0,{sourceMap:!1,shadowMode:!1})},"9af2":function(t,e,n){"use strict";var a=n("6eca"),i=n.n(a);i.a},e5de:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("cu-custom",{attrs:{bgColor:t.bgColor,isBack:!0}},[n("template",{attrs:{slot:"content"},slot:"content"},[t._v("正文")]),n("template",{attrs:{slot:"right"},slot:"right"},[n("v-uni-view",{staticClass:"action",on:{click:function(e){e=t.$handleEvent(e),t.showSetting(e)}}},[n("v-uni-text",{staticClass:"cuIcon-settings"})],1)],1)],2),n("v-uni-scroll-view",{staticClass:"page",class:[t.backgroundcolor,t.textcolor,t.fontsize],attrs:{"scroll-y":""},on:{scrolltolower:function(e){e=t.$handleEvent(e),t.loadmore()}}},[n("v-uni-view",t._l(t.chapters,function(e,a){return n("v-uni-view",{key:a},[n("v-uni-view",{staticClass:"padding-lr padding-top padding-bottom-xs text-bold"},[t._v(t._s(e.title))]),t._l(e.contents,function(e,a){return n("v-uni-view",{key:a,staticClass:"padding-lr padding-top-xs padding-bottom-xs",staticStyle:{"text-indent":"2em"}},[t._v(t._s(e))])}),e.source_url?n("v-uni-view",{staticClass:"text-right padding-lr solid-bottom"},[n("v-uni-text",{attrs:{"data-val":e.source_url},on:{click:function(e){e=t.$handleEvent(e),t.setcp(e)}}},[t._v("原网页")])],1):t._e()],2)}),1),1==t.state?n("v-uni-view",{staticClass:"cu-load loading"}):t._e(),2==t.state?n("v-uni-view",{staticClass:"text-center"},[t._v("到底了")]):t._e(),3==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.reloaddata()}}},[t._v("重新加载")]):t._e(),0==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.loadmore()}}},[t._v("加载更多")]):t._e()],1),n("v-uni-view",{staticClass:"cu-modal bottom-modal",class:t.setting?"show":"",on:{click:function(e){e=t.$handleEvent(e),t.hideSetting(e)}}},[n("v-uni-view",{staticClass:"cu-dialog",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e)}}},[n("v-uni-view",{staticClass:"padding-xl text-xl",class:[t.backgroundcolor,t.textcolor]},[n("v-uni-view",{staticClass:"text-left margin-bottom"},[t._v("阅读界面设置（字体大小、界面背景色、字体颜色）")]),n("v-uni-view",{staticClass:"grid col-5 margin-bottom text-left"},[n("v-uni-view",{staticClass:"text-xl cu-tag line-orange",attrs:{"data-val":"text-xs"},on:{click:function(e){e=t.$handleEvent(e),t.settingFontSize(e)}}},[t._v("小")]),n("v-uni-view",{staticClass:"text-xl cu-tag line-orange",attrs:{"data-val":"text-xl"},on:{click:function(e){e=t.$handleEvent(e),t.settingFontSize(e)}}},[t._v("中")]),n("v-uni-view",{staticClass:"text-xl cu-tag line-orange",attrs:{"data-val":"text-xxl"},on:{click:function(e){e=t.$handleEvent(e),t.settingFontSize(e)}}},[t._v("大")])],1),n("v-uni-view",{staticClass:"grid col-5 margin-bottom"},[n("v-uni-view",{staticClass:"shadow-blur padding-xs bg-black",attrs:{"data-val":"bg-black"},on:{click:function(e){e=t.$handleEvent(e),t.settingBackgroundColor(e)}}},[t._v("Black")]),n("v-uni-view",{staticClass:"shadow-blur padding-xs bg-white",attrs:{"data-val":"bg-white"},on:{click:function(e){e=t.$handleEvent(e),t.settingBackgroundColor(e)}}},[t._v("White")]),n("v-uni-view",{staticClass:"shadow-blur padding-xs bg-gray",attrs:{"data-val":"bg-gray"},on:{click:function(e){e=t.$handleEvent(e),t.settingBackgroundColor(e)}}},[t._v("Gray")]),n("v-uni-view",{staticClass:"shadow-blur padding-xs bg-grey",attrs:{"data-val":"bg-grey"},on:{click:function(e){e=t.$handleEvent(e),t.settingBackgroundColor(e)}}},[t._v("Grey")]),n("v-uni-view",{staticClass:"shadow-blur padding-xs bg-brown",attrs:{"data-val":"bg-brown"},on:{click:function(e){e=t.$handleEvent(e),t.settingBackgroundColor(e)}}},[t._v("Brown")])],1),n("v-uni-view",{staticClass:"grid col-5"},[n("v-uni-view",{staticClass:"shadow-blur text-black",attrs:{"data-val":"text-black"},on:{click:function(e){e=t.$handleEvent(e),t.settingTextColor(e)}}},[t._v("墨黑")]),n("v-uni-view",{staticClass:"shadow-blur text-white",attrs:{"data-val":"text-white"},on:{click:function(e){e=t.$handleEvent(e),t.settingTextColor(e)}}},[t._v("雅白")]),n("v-uni-view",{staticClass:"shadow-blur text-gray",attrs:{"data-val":"text-gray"},on:{click:function(e){e=t.$handleEvent(e),t.settingTextColor(e)}}},[t._v("草灰")]),n("v-uni-view",{staticClass:"shadow-blur text-grey",attrs:{"data-val":"text-grey"},on:{click:function(e){e=t.$handleEvent(e),t.settingTextColor(e)}}},[t._v("玄灰")]),n("v-uni-view",{staticClass:"shadow-blur text-olive",attrs:{"data-val":"text-olive"},on:{click:function(e){e=t.$handleEvent(e),t.settingTextColor(e)}}},[t._v("橄榄")])],1)],1)],1)],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})}}]);