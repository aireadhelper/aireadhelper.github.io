(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-book"],{"0351":function(t,e,n){"use strict";var o=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("bd86"));n("96cf");var a=o(n("3b8d"));n("9ec8");var r=o(n("b5fc")),s=o(n("e143")),u=(0,i.default)({name:"book",data:function(){return{backgroundcolor:this.backgroundcolor,fontsize:this.fontsize,textcolor:this.textcolor,reach_bottom_autoload:this.reach_bottom_autoload,url:"",drive:"",chapters:[],nextcontents:[],next:[],logs:[],state:0,load_url:"",theme:"",title:"",adshow:!0,interstitialAd:null,videoAd:null,rewardAdIsLoad:!1,loadcount:13}},methods:{adClose:function(){this.adshow=!1},showReward:function(){var t=this;t.reach_bottom_autoload=!0,t.rewardAdIsLoad=!1,s.default.prototype.reach_bottom_autoload=!0,t.loadnext()},initReward:function(){},loadscreen:function(){this.loadcount++,20==this.loadcount&&(this.loadcount=0)},loadmore:function(){if(this.state=1,this.next){var t=this;this.fetch(this.next.url,this.drive),t.next=[]}},loadnext:function(){var t=this;t.next&&""!=t.next.url?(t.fetch(t.next.url,t.drive),t.next=[]):uni.showToast({title:"没有更多了",icon:"none"})},loadprevious:function(){var t=this;t.previous&&""!=t.previous.url?(t.fetch(t.previous.url,t.drive),t.previous=[]):uni.showToast({title:"没有更前了",icon:"none"})},reloaddata:function(){this.load_url?(this.state=1,this.fetch(this.load_url,this.drive)):this.state=2},setcp:function(t){var e=t.currentTarget.dataset.val;uni.showModal({title:"转码声明",content:"本内容通过实时转码技术为您呈现，版权及相关连带归源站所有！来源网站地址:"+e,showCancel:!1})},fetch:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(e,n){var o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadscreen(),o=this,o.load_url=e,t.prev=3,t.next=6,r.default.GetInfo(e,n);case 6:if(i=t.sent,!i.contents.length){t.next=17;break}return o.chapters.push(i),o.next=i.next,o.title=i.title,uni.setNavigationBarTitle({title:i.title}),this.state=0,t.next=15,r.default.NewLog(i.title,"/pages/book?drive="+o.drive+"&url="+e);case 15:t.next=18;break;case 17:this.state=3;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](3),o.state=3;case 23:case"end":return t.stop()}},t,this,[[3,20]])}));function e(e,n){return t.apply(this,arguments)}return e}()},computed:{banner_adid:function(){return s.default.prototype.appconfig?s.default.prototype.appconfig.info_banner:null},video_adid:function(){return s.default.prototype.appconfig?s.default.prototype.appconfig.info_video:null},screen_adid:function(){return s.default.prototype.appconfig?s.default.prototype.appconfig.info_screen:null},reward_adid:function(){return s.default.prototype.appconfig?s.default.prototype.appconfig.info_reward:null},viewAdBgColor:function(){return"bg-black"==this.backgroundcolor||"bg-grey"==this.backgroundcolor||"bg-brown"==this.backgroundcolor?"black":"white"},bgColor:function(){return this.backgroundcolor+" "+this.textcolor+" "+this.fontsize}},onLoad:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(e){var n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.url,o=e.drive,t.next=3,r.default.ConnectApi();case 3:this.url=n,this.drive=o,this.state=1,this.fetch(n,this.drive);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onShareAppMessage:function(t){return{title:this.title,path:"/pages/book?drive="+this.drive+"&url="+this.url}},onReachBottom:function(){if(this.reach_bottom_autoload){if(this.state=1,this.next){var t=this;this.fetch(this.next.url,this.drive),t.next=[]}else this.state=2;console.log("到底了")}},onPullDownRefresh:function(){this.chapters=[],this.fetch(this.url,this.drive),uni.stopPullDownRefresh()}},"onShareAppMessage",function(t){return{title:this.title,path:"/pages/book?drive="+this.drive+"&url="+this.url,success:function(t){console.log(t)},fail:function(t){console.log(t)}}});e.default=u},"05c7":function(t,e,n){"use strict";var o=n("a03b"),i=n.n(o);i.a},"398a":function(t,e,n){"use strict";n.r(e);var o=n("0351"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},"3d10":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".page[data-v-699088bd]{min-height:100vh}",""])},"4b3e":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:[t.backgroundcolor,t.textcolor,t.fontsize]},[n("cu-custom",{attrs:{bgColor:t.bgColor,isBack:!0}},[n("template",{attrs:{slot:"content"},slot:"content"},[n("v-uni-text",{class:[t.fontsize]},[t._v("正文")])],1)],2),n("v-uni-view",{staticClass:"page"},[n("v-uni-view",[t._l(t.chapters,function(e,o){return n("v-uni-view",{key:o},[n("v-uni-view",{staticClass:"padding-lr padding-top padding-bottom-xs text-bold"},[t._v(t._s(e.title))]),t._l(e.contents,function(e,o){return n("v-uni-view",{key:o,staticClass:"padding-lr padding-top-xs padding-bottom-xs",staticStyle:{"text-indent":"2em"}},[t._v(t._s(e))])}),e.source_url?n("v-uni-view",{staticClass:"text-right padding-lr solid-bottom"},[n("v-uni-text",{attrs:{"data-val":e.source_url},on:{click:function(e){e=t.$handleEvent(e),t.setcp(e)}}},[t._v("原网页")])],1):t._e()],2)}),t.reach_bottom_autoload?t._e():n("v-uni-view",[""!=t.next.url?n("v-uni-view",{staticClass:"flex text-center margin-top",class:[t.backgroundcolor,t.textcolor,t.fontsize]},[t.rewardAdIsLoad&&""!=t.next.url?n("v-uni-view",{staticClass:"flex-sub padding",on:{click:function(e){e=t.$handleEvent(e),t.showReward(e)}}},[n("v-uni-text",{staticClass:"cuIcon-video"}),t._v("自动加载更多")],1):t._e(),""!=t.next.url?n("v-uni-view",{staticClass:"flex-sub padding",on:{click:function(e){e=t.$handleEvent(e),t.loadnext(e)}}},[n("v-uni-text",{staticClass:"cuIcon-unfold"})],1):t._e()],1):t._e()],1)],2),t.reach_bottom_autoload?n("v-uni-view",[1==t.state?n("v-uni-view",{staticClass:"cu-load loading"}):t._e(),2==t.state?n("v-uni-view",{staticClass:"text-center"},[t._v("到底了")]):t._e(),3==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.reloaddata()}}},[t._v("重新加载")]):t._e(),0==t.state?n("v-uni-view",{staticClass:"text-center",on:{click:function(e){e=t.$handleEvent(e),t.loadmore()}}},[t._v("加载更多")]):t._e()],1):t._e()],1)],1)},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},5150:function(t,e,n){"use strict";n.r(e);var o=n("4b3e"),i=n("398a");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("05c7");var r=n("2877"),s=Object(r["a"])(i["default"],o["a"],o["b"],!1,null,"699088bd",null);e["default"]=s.exports},a03b:function(t,e,n){var o=n("3d10");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("61f9059c",o,!0,{sourceMap:!1,shadowMode:!1})}}]);